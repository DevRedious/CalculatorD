<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Toggle Dark/Light</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        body {
            padding: 2rem;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        .demo-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: var(--bg-tertiary);
            border-radius: 12px;
            margin-top: 100px;
        }

        h1 {
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .info {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 8px;
            border-left: 4px solid var(--accent-primary);
        }

        .demo-section {
            margin: 2rem 0;
        }

        .demo-section h2 {
            color: var(--accent-primary);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .demo-section p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        code {
            background: var(--bg-secondary);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: var(--accent-secondary);
        }

        .status {
            margin-top: 2rem;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .status.success {
            background: rgba(40, 167, 69, 0.2);
            border: 2px solid #28a745;
            color: #28a745;
        }

        .btn {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background: var(--accent-primary);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn:hover {
            background: var(--accent-dark);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- Theme Toggle (coin haut-droit) -->
    <div id="themeToggleContainer">
        <label>
            <input id="themeToggle" class="toggle-checkbox" type="checkbox" aria-label="Changer de th√®me">
            <div class="toggle-slot">
                <div class="toggle-button"></div>
            </div>
        </label>
    </div>

    <div class="demo-container">
        <h1>üåì Test du Toggle Dark/Light</h1>

        <div class="info">
            <strong>Instructions:</strong> Cliquez sur le toggle minimaliste dans le coin sup√©rieur droit pour changer de th√®me.
            Le bouton blanc/jaune coulisse de gauche (mode clair) √† droite (mode sombre).
        </div>

        <div class="demo-section">
            <h2>Comment √ßa marche ?</h2>
            <p>
                Le toggle est une checkbox stylis√©e avec des animations CSS personnalis√©es.
                Quand vous cliquez dessus :
            </p>
            <ul style="color: var(--text-secondary); margin-left: 2rem; margin-top: 1rem;">
                <li>Le bouton coulissant se d√©place avec une animation fluide et un effet de rebond</li>
                <li>Le fond change de blanc √† gris fonc√© (ou vice-versa)</li>
                <li>Le bouton change de couleur (jaune ‚Üí blanc/gris)</li>
                <li>Le th√®me de toute la page change instantan√©ment</li>
                <li>Votre pr√©f√©rence est sauvegard√©e dans le navigateur</li>
            </ul>
        </div>

        <div class="demo-section">
            <h2>Th√®me actuel</h2>
            <p>
                Vous √™tes actuellement en mode <strong id="currentTheme"></strong>.
            </p>
            <p style="margin-top: 1rem;">
                Variable CSS <code>--bg-primary</code>: <span id="bgColor"></span><br>
                Variable CSS <code>--text-primary</code>: <span id="textColor"></span><br>
                Variable CSS <code>--accent-primary</code>: <span id="accentColor"></span>
            </p>
        </div>

        <div class="demo-section">
            <h2>Caract√©ristiques</h2>
            <ul style="color: var(--text-secondary); margin-left: 2rem;">
                <li>‚úÖ Animation fluide avec effet de rebond (cubic-bezier)</li>
                <li>‚úÖ Design minimaliste et √©l√©gant</li>
                <li>‚úÖ Sauvegarde automatique dans localStorage</li>
                <li>‚úÖ Accessible au clavier (Tab + Espace/Enter)</li>
                <li>‚úÖ ARIA label pour lecteurs d'√©cran</li>
                <li>‚úÖ Responsive (adapt√© mobile)</li>
                <li>‚úÖ Aucune d√©pendance externe (pas d'ic√¥nes)</li>
            </ul>
        </div>

        <div class="status success">
            ‚úÖ Le toggle fonctionne parfaitement!
            <br>
            <a href="index.html" class="btn">Retour au Calculateur</a>
        </div>
    </div>

    <script type="module">
        // Mini ThemeManager pour ce test
        class ThemeManager {
            constructor() {
                this.theme = localStorage.getItem('calculator_theme') || 'dark';
                this.toggleCheckbox = document.getElementById('themeToggle');
                this.init();
            }

            init() {
                this.apply();
                if (this.toggleCheckbox) {
                    this.toggleCheckbox.addEventListener('change', () => this.toggle());
                }
                this.updateDisplay();
            }

            toggle() {
                this.theme = this.theme === 'dark' ? 'light' : 'dark';
                this.apply();
                localStorage.setItem('calculator_theme', this.theme);
                this.updateDisplay();
            }

            apply() {
                document.documentElement.setAttribute('data-theme', this.theme);
                if (this.toggleCheckbox) {
                    this.toggleCheckbox.checked = (this.theme === 'dark');
                }
            }

            updateDisplay() {
                document.getElementById('currentTheme').textContent =
                    this.theme === 'dark' ? 'SOMBRE üåô' : 'CLAIR ‚òÄÔ∏è';

                const styles = getComputedStyle(document.documentElement);
                document.getElementById('bgColor').textContent = styles.getPropertyValue('--bg-primary').trim();
                document.getElementById('textColor').textContent = styles.getPropertyValue('--text-primary').trim();
                document.getElementById('accentColor').textContent = styles.getPropertyValue('--accent-primary').trim();
            }
        }

        // Initialiser
        const themeManager = new ThemeManager();

        // Mettre √† jour l'affichage toutes les 100ms (pour voir les changements CSS)
        setInterval(() => {
            themeManager.updateDisplay();
        }, 100);
    </script>
</body>
</html>
